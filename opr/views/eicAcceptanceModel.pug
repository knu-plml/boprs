extends editorLayout.pug

block title
  title Acceptance Model
  script(type='text/javascript').
    function changeOI(id1, id2){
      var select = document.getElementById(id1)
      var value = select.options[select.selectedIndex].value
      var text = document.getElementById(id2)
      if (value == 0) {
        var text = document.getElementById(id2)
        text.innerHTML="Close"
      }
      else if (value == 1) {
        text.innerHTML="Open when starting review"
      }
      else if (value == 2) {
        text.innerHTML="Open all of paper after review"
      }
      else if (value == 3) {
        text.innerHTML="Open only accepted paper with reports after review"
      }
    }

    function changeOR(id1, id2){
      var select = document.getElementById(id1)
      var value = select.options[select.selectedIndex].value
      var text = document.getElementById(id2)
      if (value == 0) {
        var text = document.getElementById(id2)
        text.innerHTML="Close"
      }
      else if (value == 4) {
        text.innerHTML="Open editor's reports after each round"
      }
      else if (value == 5) {
        text.innerHTML="Open reviewers's comments after each round"
      }
      else if (value == 6) {
        text.innerHTML="Open editor's reports after review"
      }
      else if (value == 7) {
        text.innerHTML="Open reviewers's comments after review"
      }
    }

    function changeON(id1, id2){
      var select = document.getElementById(id1)
      var value = select.options[select.selectedIndex].value
      var text = document.getElementById(id2)
      if (value == 0) {
        var text = document.getElementById(id2)
        text.innerHTML="Close"
      }
      else if (value == 4) {
        text.innerHTML="Open interactions between author and reviewers and between reviewers after each round"
      }
      else if (value == 5) {
        text.innerHTML="Open interactions between author and reviewers after review and open interaction between reviewers after each round"
      }
      else if (value == 6) {
        text.innerHTML="Open interactions between author and reviewers after each round and open interaction between reviewers after review"
      }
      else if (value == 7) {
          text.innerHTML="Open interactions between author and reviewers and between reviewers after review"
      }
    }

    function changeDefault(id1, id2){
      var select = document.getElementById(id1)
      var value = select.options[select.selectedIndex].value
      var text = document.getElementById(id2)
      if (value == 0) {
        var text = document.getElementById(id2)
        text.innerHTML="Close"
      }
      if (value == 1) {
        text.innerHTML="Open"
      }
    }

block content
  .container
    h3 Acceptance Model
    br
    form(action='/eicAM/update' method='post')
      input(type='hidden' name='user' value=user)
      table
        hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open Identities:
          td
            p Authors and reviewers are aware of each other’s identity.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='OI' name='OI' onchange='changeOI("OI", "OItext")')
              if oi == 0
                option(value="0" selected) 0
                option(value="1") 1
                option(value="2") 2
                option(value="3") 3
              else if oi == 1
                option(value="0") 0
                option(value="1" selected) 1
                option(value="2") 2
                option(value="3") 3
              else if oi == 2
                option(value="0") 0
                option(value="1") 1
                option(value="2" selected) 2
                option(value="3") 3
              else if oi == 3
                option(value="0") 0
                option(value="1") 1
                option(value="2") 2
                option(value="3" selected) 3
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if oi == 0
              p(id='OItext') Close
            else if oi == 1
              p(id='OItext') Open when starting review
            else if oi == 2
              p(id='OItext') Open all of paper after review 
            else if oi == 3
              p(id='OItext') Open only accepted paper with reports after review
            hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open Reports:
          td
            p Review reports are published alongside the relevant article.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='OR' name='OR' onchange='changeOR("OR", "ORtext")')
              if or == 0
                option(value="0" selected) 0
                option(value="4") 4
                option(value="5") 5
                option(value="6") 6
                option(value="7") 7
              else if or == 4
                option(value="0") 0
                option(value="4" selected) 4
                option(value="5") 5
                option(value="6") 6
                option(value="7") 7
              else if or == 5
                option(value="0") 0
                option(value="4") 4
                option(value="5" selected) 5
                option(value="6") 6
                option(value="7") 7
              else if or == 6
                option(value="0") 0
                option(value="4") 4
                option(value="5") 5
                option(value="6" selected) 6
                option(value="7") 7
              else if or == 7
                option(value="0") 0
                option(value="4") 4
                option(value="5") 5
                option(value="6") 6
                option(value="7" selected) 7
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if or == 0
              p(id='ORtext') Close
            else if or == 4
              p(id='ORtext') Open editor's reports after each round
            else if or == 5
              p(id='ORtext') Open reviewers's comments after each round
            else if or == 6
              p(id='ORtext') Open editor's reports after review
            else if or == 7
              p(id='ORtext') Open reviewers's comments after review
            hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open Participation:
          td
            p The wider community are able to contribute to the review process.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='OP' name='OP' onchange='changeDefault("OP", "OPtext")')
              if op == 0
                option(value="0" selected) 0
                option(value="1") 1
              else
                option(value="0") 0
                option(value="1" selected) 1
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if op == 0
              p(id='OPtext') Close
            else
              p(id='OPtext') Open
            hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open interaction:
          td
            p Direct reciprocal discussion between author(s) and reviewers, and/or between reviewers, is allowed and encouraged.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='ON' name='ON' onchange='changeON("ON", "ONtext")')
              if on == 0
                option(value="0" selected) 0
                option(value="4") 4
                option(value="5") 5
                option(value="6") 6
                option(value="7") 7
              else if on == 4
                option(value="0") 0
                option(value="4" selected) 4
                option(value="5") 5
                option(value="6") 6
                option(value="7") 7
              else if on == 5
                option(value="0") 0
                option(value="4") 4
                option(value="5" selected) 5
                option(value="6") 6
                option(value="7") 7
              else if on == 6
                option(value="0") 0
                option(value="4") 4
                option(value="5") 5
                option(value="6" selected) 6
                option(value="7") 7
              else if on == 7
                option(value="0") 0
                option(value="4") 4
                option(value="5") 5
                option(value="6") 6
                option(value="7" selected) 7
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if on == 0
              p(id='ONtext') Close
            else if on == 4
              p(id='ONtext') Open interactions between author and reviewers and between reviewers after each round
            else if on == 5
              p(id='ONtext') Open interactions between author and reviewers after review and open interaction between reviewers after each round
            else if on == 6
              p(id='ONtext') Open interactions between author and reviewers after each round and open interaction between reviewers after review
            else if on == 7
              p(id='ONtext') Open interactions between author and reviewers and between reviewers after review
            hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open Pre-review Manuscripts:
          td
            p Manuscripts are made immediately available (e.g., via pre-print servers like arXiv) in advance of any formal peer review procedures.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='OM' name='OM' onchange='changeDefault("OM", "OMtext")')
              if om == 0
                option(value="0" selected) 0
                option(value="1") 1
              else
                option(value="0") 0
                option(value="1" selected) 1
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if om == 0
              p(id='OMtext') Close
            else
              p(id='OMtext') Open
            hr(style='border: none; height: 2px; background-color: black;')
        tr
          td
            h4 Open Final-version Commenting:
          td
            p Review or commenting on final “version of record” publications.
            hr(style='border: none; height: 1px; background-color: black;')
        tr
          td
            select(id='OC' name='OC' onchange='changeDefault("OC", "OCtext")')
              if oc == 0
                option(value="0" selected) 0
                option(value="1") 1
              else
                option(value="0") 0
                option(value="1" selected) 1
            hr(style='border: none; height: 2px; background-color: black;')
          td
            if opl == 0
              p(id='OCtext') Close
            else
              p(id='OCtext') Open
            hr(style='border: none; height: 2px; background-color: black;')
      input(type='submit' value='Change acceptance model')
